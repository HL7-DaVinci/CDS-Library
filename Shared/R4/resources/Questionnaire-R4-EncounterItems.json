{
  "resourceType": "Questionnaire",
  "id": "encounter-items",
  "name": "Encounter Module",
  "meta": {
    "profile": [
      "http://hl7.org/fhir/StructureDefinition/cqf-questionnaire",
      "http://hl7.org/fhir/us/davinci-dtr/StructureDefinition/dtr-questionnaire-r4"
    ]
  },
  "extension": [
    {
      "url": "http://hl7.org/fhir/StructureDefinition/cqf-library",
      "valueCanonical": "http://hl7.org/fhir/us/davinci-dtr/Library/BasicClinicalInfo-prepopulation"
    }
  ],
  "status": "draft",
  "item": [
    {
      "linkId": "ENC.1",
      "extension": [
        {
          "url": "http://hl7.org/fhir/StructureDefinition/cqf-expression",
          "valueExpression": {
            "language": "text/cql",
            "expression": "\"BasicClinicalInfoPrepopulation\".Today"
          }
        }
      ],
      "text": "Date of encounter (MM/DD/YYYY)",
      "type": "date",
      "required": true
    },
    {
      "linkId": "ENC.2",
      "extension": [
        {
          "url": "http://hl7.org/fhir/StructureDefinition/cqf-expression",
          "valueExpression": {
            "language": "text/cql",
            "expression": "\"BasicClinicalInfoPrepopulation\".AnswerYes"
          }
        },
        {
          "url": "http://hl7.org/fhir/StructureDefinition/questionnaire-itemControl",
          "valueCodeableConcept": {
            "coding": [
              {
                "code": "radio-button",
                "system": "http://hl7.org/fhir/questionnaire-item-control"
              }
            ]
          }
        }
      ],
      "text": "Is this an evaluation of the patientâ€™s need for required device/service/medication?",
      "required": true,
      "type": "choice",
      "answerValueSet": "<server-path>ValueSet/yes-no"
    },
    {
      "linkId": "ENC.3",
      "text": "If No, purpose of the encounter",
      "type": "text",
      "required": true,
      "enableWhen": [
        {
          "question": "ENC.2",
          "operator": "=",
          "answerCoding": {
            "code": "N",
            "system": "http://terminology.hl7.org/CodeSystem/v2-0136"
          }
        }
      ]
    }
  ]
}
